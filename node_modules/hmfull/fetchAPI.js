const fetch = require('node-fetch')

module.exports = class HMrequest {
    static async nekosGet(name) {
        const blacklist = ['https://cdn.nekos.life/blowjob/blowjob31.jpg', 'https://cdn.nekos.life/blowjob/blowjob32.jpg', 'https://cdn.nekos.life/lewdkemo/lewd_neko_v2_132.jpg']
        let res = await fetch(`https://nekos.life/api/v2/img/${name}`).then(res => res.json()).catch(err => `Something wrong with Nekos API: ${err}\nContact the support Discord server for help: https://discord.gg/Cak7GBJ`);
        if (blacklist.includes(res.url)) await this.nekosGet(name)
        else return res;
    }
    
    static async missGet(name) {
        let res = await fetch(`https://miss.perssbest.repl.co/api/v2/${name}`).then(res => res.json()).catch(err => `Something wrong with Miss API: ${err}\nContact the support Discord server for help: https://discord.gg/Cak7GBJ`)
        return { url: res.image }
    }
    
    static async nekoloveGet(name) {
        return await fetch(`https://neko-love.xyz/api/v1/${name}`).then(res => res.json()).catch(err => `Something wrong with neko-love API: ${err}\nContact the support Discord server for help: https://discord.gg/Cak7GBJ`)
    }
    
    static async freakerGet(name) {
        const blacklist = ['https://hentai.computerfreaker.cf/dea9e216299a7d3c496115b63d2df947.png', 'https://hentai.computerfreaker.cf/7e1659218e33a2c113c9dafe2d10c692.png', 'https://images-ext-1.discordapp.net/external/8a3hfdWYK8vsiVP7_ksgghZXlPalZnSLxvj9G5pS7-U/%3Fwidth%3D552%26height%3D677/https/images-ext-1.discordapp.net/external/5M6KKlu7qGta8RBE3NBgIFhoie_s034OA1n2pULx9Ik/https/hentai.computerfreaker.cf/cb1d28f1b609eabc1012e1dadeb2e4c1.jpg?width=497&height=609', 'https://images-ext-1.discordapp.net/external/hFUEM7OXN48exlw126R5BFX4O0BB83N0bjnbZk0_DFI/%3Fwidth%3D616%26height%3D677/https/images-ext-1.discordapp.net/external/yhL3Z4QY2bBMamO36l1fB-BPeJqC07-9btmrH1QqKhE/https/hentai.computerfreaker.cf/d81ae5942af43ed23577a71cb5fad7eb.png?width=554&height=609']
        const headers = {
            "User-Agent": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0"
        }
        let res = await fetch(`https://api.computerfreaker.cf/v1/${name}`, { method: 'GET', headers: headers }).then(res => res.json()).catch(err => `Something wrong with Freaker API: ${err}\nContact the support Discord server for help: https://discord.gg/Cak7GBJ`)
        if (blacklist.includes(res.url)) await this.freakerGet(name);
        else return res;
    }
}